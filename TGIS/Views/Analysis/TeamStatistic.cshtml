@{
    ViewBag.Title = "TeamStatistic";
    Layout = "~/Views/Shared/_LayoutShoperCenter.cshtml";
}
<link href="~/Content/Chart.min.css" rel="stylesheet" />


<h2>揪桌客群分析</h2>
@Html.ActionLink("30天內", "TeamStatistic", new { monthsFromNow = 0}, new { @class="btn btn-success"})
@Html.ActionLink("30天前 ~ 60天前", "TeamStatistic", new { monthsFromNow = 1}, new { @class="btn btn-success"})
@Html.ActionLink("60天前 ~ 90天前", "TeamStatistic", new { monthsFromNow = 2}, new { @class="btn btn-success"})
@if (ViewBag.NoTeam != null)
{
    <h3 class="text-info">此期間沒有任何紀錄</h3>
}
else
{
    <div class="col-md-8 col-md-offset-2">
        <canvas id="genderChart"></canvas>
    </div>
    <div class="col-md-8 col-md-offset-2">
        <canvas id="ageChart"></canvas>
    </div>
    <div class="col-md-8 col-md-offset-2">
        <canvas id="districtChart"></canvas>
    </div>
}

@section scripts{
    <script src="~/Scripts/Chart.min.js"></script>
    <script>
        var genderChart = new Chart($("#genderChart").get(0), {
            //類型：圓餅圖
            type: "pie",
            //所有的資料都是放在這裡
            data: {
                //labels放項目標題
                labels: @Html.Raw(ViewBag.GenderLabels),
                //其他資料集合
                datasets: [{
                    //圓餅圖數據
                    data: @Html.Raw(ViewBag.GenderData),
                    //背景顏色
                    backgroundColor: [
                        "rgb(255, 0, 0)",
                        "rgb(0, 255, 0)",
                        "rgb(0, 0, 255)",
                        "rgb(255, 255, 0)",
                        "rgb(0, 255, 255)",
                        "rgb(255, 0, 255)",
                        "rgb(150, 0, 0)",
                        "rgb(0, 150, 0)",
                        "rgb(0, 0, 150)",
                        "rgb(150, 150, 0)",
                        "rgb(0, 150, 150)",
                        "rgb(150, 0, 150)"
                    ]
                }]
            },
            options: {
                responsive: true,
                //標題設定
                title: {
                    display: true,
                    fontSize: 26,
                    text: "性別比"
                },
                legend: {
                    position: "bottom",
                    labels: {
                        fontColor: "black"
                    }
                }
            }
        });
        var ageChart = new Chart($("#ageChart").get(0), {
            //類型：圓餅圖
            type: "pie",
            //所有的資料都是放在這裡
            data: {
                //labels放項目標題
                labels: @Html.Raw(ViewBag.AgeLabels),
                //其他資料集合
                datasets: [{
                    //圓餅圖數據
                    data: @Html.Raw(ViewBag.AgeData),
                    //背景顏色
                    backgroundColor: [
                        "rgb(255, 0, 0)",
                        "rgb(0, 255, 0)",
                        "rgb(0, 0, 255)",
                        "rgb(255, 255, 0)",
                        "rgb(0, 255, 255)",
                        "rgb(255, 0, 255)",
                        "rgb(150, 0, 0)",
                        "rgb(0, 150, 0)",
                        "rgb(0, 0, 150)",
                        "rgb(150, 150, 0)",
                        "rgb(0, 150, 150)",
                        "rgb(150, 0, 150)"
                    ]
                }]
            },
            options: {
                responsive: true,
                //標題設定
                title: {
                    display: true,
                    fontSize: 26,
                    text: "年齡分布"
                },
                legend: {
                    position: "bottom",
                    labels: {
                        fontColor: "black"
                    }
                }
            }
        });
        var districtChart = new Chart($("#districtChart").get(0), {
            //類型：圓餅圖
            type: "pie",
            //所有的資料都是放在這裡
            data: {
                //labels放項目標題
                labels: @Html.Raw(ViewBag.DistrictLabels),
                //其他資料集合
                datasets: [{
                    //圓餅圖數據
                    data: @Html.Raw(ViewBag.DistrictData),
                    //背景顏色
                    backgroundColor: [
                        "rgb(255, 0, 0)",
                        "rgb(0, 255, 0)",
                        "rgb(0, 0, 255)",
                        "rgb(255, 255, 0)",
                        "rgb(0, 255, 255)",
                        "rgb(255, 0, 255)",
                        "rgb(150, 0, 0)",
                        "rgb(0, 150, 0)",
                        "rgb(0, 0, 150)",
                        "rgb(150, 150, 0)",
                        "rgb(0, 150, 150)",
                        "rgb(150, 0, 150)"
                    ]
                }]
            },
            options: {
                responsive: true,
                //標題設定
                title: {
                    display: true,
                    fontSize: 26,
                    text: "行政區分布"
                },
                legend: {
                    position: "bottom",
                    labels: {
                        fontColor: "black"
                    }
                }
            }
        });
    </script>

}
